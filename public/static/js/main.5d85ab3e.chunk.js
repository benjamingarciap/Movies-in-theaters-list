(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,a,t){},104:function(e,a,t){},127:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(10),i=t.n(o),r=(t(103),t(46)),c=t(32),s=t(57),m=t(47),d=t(56),u=t(26),p=(t(104),t(21)),g=t(19),v=t.n(g),h=t(14),f=t(176),E=t(175),b=t(177),_=t(178),y=t(179),N=t(182),w=t(181),k=t(180),x=t(174),O=t(84),j=t(64),C=t.n(j),S=t(65),F=t.n(S),B=t(128),M=t(39),D=t(189),T=t(28),V=t(38),A=t(43),W=v.a.create({baseURL:"https://newmovieslist.herokuapp.com/"}),z=function(e){throw console.log(e),e},U={service:W,handleUpload:function(e){return W.post("/upload",e).then(function(e){return e.data}).catch(z)},saveNewMovie:function(e){return W.post("/movies",e).then(function(e){return e.data}).catch(z)}},R=t(188),G=t(173),P=t(171),L=t(170),I=t(169),H=t(186),J=t(172),Y=Object(B.a)(function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},dense:{marginTop:e.spacing(2)},menu:{width:200},progress:{margin:e.spacing(2)}}}),q={width:"195px"},$=l.a.forwardRef(function(e,a){return l.a.createElement(I.a,Object.assign({direction:"up",ref:a},e))});function K(e){var a=e.open,t=e.handleClose,n=(e.handleCloseCancel,Y()),o=l.a.useState({genre_ids:[],vote_count:"",id:"",video:!1,vote_average:"",title:"",popularity:"",poster_path:"",original_language:"",original_title:"",backdrop_path:"",adult:!1,overview:"",release_date:""}),i=Object(p.a)(o,2),r=i[0],c=i[1],s=l.a.useState(!1),m=Object(p.a)(s,2),d=m[0],u=m[1],g=function(e){return function(a){c(Object(A.a)({},r,Object(V.a)({},e,a.target.value)))}};return l.a.createElement("div",null,l.a.createElement(R.a,{open:a,TransitionComponent:$,keepMounted:!0,onClose:t,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},l.a.createElement(L.a,{id:"alert-dialog-slide-title"},"Add new movie to the database"),l.a.createElement(P.a,null,l.a.createElement("form",{className:n.container,id:"add-movie-form",noValidate:!0,autoComplete:"off",onSubmit:function(e){return function(e){e.preventDefault(),U.saveNewMovie(r).then(function(e){console.log("added: ".concat(e))}).catch(function(e){console.log("Error while adding the movie to the database: ".concat(e))})}(e)}},l.a.createElement("div",{className:"modal-row"},l.a.createElement(H.a,{id:"outlined-name",label:"Title",className:n.textField,value:r.title,onChange:g("title"),margin:"normal",variant:"outlined"}),l.a.createElement(H.a,{id:"outlined-name",label:"Vote average",className:n.textField,value:r.vote_average,onChange:g("vote_average"),margin:"normal",variant:"outlined"}),l.a.createElement(H.a,{id:"outlined-name",label:"Popularity count",className:n.textField,value:r.popularity,onChange:g("popularity"),margin:"normal",variant:"outlined"}),l.a.createElement(H.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:"3",className:n.textField,margin:"normal",variant:"outlined",style:q,onChange:g("overview"),value:r.description})),l.a.createElement("div",{className:"modal-row"},l.a.createElement(H.a,{id:"date",type:"date",label:"Release date",className:n.textField,value:r.release_date,onChange:g("release_date"),margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0}}),l.a.createElement(H.a,{id:"outlined-name",label:"Original language",className:n.textField,value:r.original_language,onChange:g("original_language"),margin:"normal",variant:"outlined"}),l.a.createElement("div",null,l.a.createElement("input",{type:"file",onChange:function(e){!function(e){console.log("The file to be uploaded is: ".concat(e.target.files[0]));var a=new FormData;a.append("image",e.target.files[0]),U.handleUpload(a).then(function(e){c(Object(A.a)({},r,{imageUrl:e.secure_url}))}).catch(function(e){console.log("Error while uploading the file: ".concat(e))})}(e),u(!0)},name:"file",id:"file",className:"inputfile"}),l.a.createElement("label",{htmlFor:"file"},"Upload image"),l.a.createElement("div",{className:"position-relative"},d?l.a.createElement(J.a,{className:n.progress}):null))),l.a.createElement(G.a,null,l.a.createElement(x.a,{color:"primary",type:"submit",onClick:t,to:"/movies"},"Add"),l.a.createElement(x.a,{onClick:t,color:"primary"},"Cancel"))))))}var Q=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(s.a)(this,Object(m.a)(a).call(this,e))).state={open:!1},t.handleScroll=t.handleScroll.bind(Object(T.a)(t)),t.handleClickOpen=t.handleClickOpen.bind(Object(T.a)(t)),t.handleClose=t.handleClose.bind(Object(T.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1}),window.location.reload()}},{key:"handleScroll",value:function(){this.setState({scroll:window.scrollY})}},{key:"componentDidMount",value:function(){var e=document.querySelector("nav");this.setState({top:e.offsetTop,height:e.offsetHeight}),window.addEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(){this.state.scroll>this.state.top?document.body.style.paddingTop="".concat(this.state.height,"px"):document.body.style.paddingTop=0}},{key:"render",value:function(){var e=this;if("/"===this.props.location.pathname)return l.a.createElement(l.a.Fragment,null,l.a.createElement(K,{open:this.state.open,handleClose:this.handleClose,handleCloseCancel:this.handleCloseCancel}),l.a.createElement("nav",{className:this.state.scroll>this.state.top?"fixed-nav":""},l.a.createElement("ul",null,l.a.createElement("li",{onClick:function(){return e.handleClickOpen()}},"Add a movie"))))}}]),a}(l.a.Component),X=Object(u.f)(Q),Z=Object(B.a)(function(e){return{cardAction:{display:"block",textAlign:"initial"},root:{flexGrow:1},stepper:{maxWidth:400,flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},card:{maxWidth:345},media:{height:500}}}),ee=function(e){var a=Object(n.useState)({listOfMovies:[]}),t=Object(p.a)(a,2),o=t[0],i=t[1],r=Object(n.useState)(1),c=Object(p.a)(r,2),s=c[0],m=c[1],d=Object(n.useState)(""),u=Object(p.a)(d,2),g=(u[0],u[1],Z()),j=Object(M.a)();Object(n.useEffect)(function(){v.a.get("".concat("https://newmovieslist.herokuapp.com/","/api/movies?pageNo=").concat(s,"&size=").concat(22)).then(function(e){i({listOfMovies:e.data.message})}).catch(function(e){console.log("this error while fetching movies from the api",e)})},[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(X,null),l.a.createElement(D.a,{variant:"progress",steps:45,position:"static",activeStep:s,className:g.root,nextButton:l.a.createElement(x.a,{size:"small",onClick:function(){m(function(e){return e+1}),v.a.get("".concat("https://newmovieslist.herokuapp.com/","/api/movies?pageNo=").concat(s+1,"&size=").concat(22)).then(function(e){i({listOfMovies:e.data.message})}).catch(function(e){console.log("this error while fetching movies from the api",e)})},disabled:45===s},"Next","rtl"===j.direction?l.a.createElement(C.a,null):l.a.createElement(F.a,null)),backButton:l.a.createElement(x.a,{size:"small",onClick:function(){if(s<2)return null;m(function(e){return e-1}),v.a.get("".concat("https://newmovieslist.herokuapp.com/","/api/movies?pageNo=").concat(s-1,"&size=").concat(22)).then(function(e){i({listOfMovies:e.data.message})}).catch(function(e){console.log("this error while fetching movies from the api",e)})},disabled:0===s},"rtl"===j.direction?l.a.createElement(F.a,null):l.a.createElement(C.a,null),"Back")}),l.a.createElement(E.a,null),l.a.createElement("div",{className:"spacer"}),l.a.createElement(f.a,{maxWidth:"lg"},l.a.createElement("div",{className:g.root},l.a.createElement(b.a,{container:!0,spacing:3},o.listOfMovies?o.listOfMovies.map(function(e){return l.a.createElement(b.a,{item:!0,xs:12,sm:6,md:4,lg:3,key:e._id,className:"movie-card-container"},l.a.createElement(_.a,{className:g.card},l.a.createElement(y.a,null,l.a.createElement(h.b,{to:"/movies/".concat(e._id),style:{textDecoration:"none"}},l.a.createElement(k.a,{className:g.media,image:e.poster_path?e.poster_path.split("/").includes("null")?"https://res.cloudinary.com/dsncbmlkl/image/upload/v1565452396/placeholder1-lg_c8c5eh.jpg":e.poster_path.split(".").includes("cloudinary")?e.poster_path:"http://image.tmdb.org/t/p/w500/".concat(e.poster_path):"https://res.cloudinary.com/dsncbmlkl/image/upload/v1565452396/placeholder1-lg_c8c5eh.jpg",title:e.title})),l.a.createElement(h.b,{to:"/movies/".concat(e._id),style:{textDecoration:"none"}},l.a.createElement(w.a,null,l.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.title)))),l.a.createElement(N.a,null,l.a.createElement(x.a,{size:"small",color:"primary"},l.a.createElement(h.b,{to:"/movies/".concat(e._id)},"View")),l.a.createElement(x.a,{size:"small",color:"primary"},l.a.createElement(h.b,{to:"/movies/edit/".concat(e._id)},"Edit")),l.a.createElement(x.a,{size:"small",color:"primary",onClick:function(){var a;a=e._id,v.a.delete("".concat("https://newmovieslist.herokuapp.com/","/api/movies/").concat(a)).then(function(e){window.location.reload()}).catch(function(e){console.log(e)})}},"Delete"))))}):null))))},ae=t(83),te=Object(B.a)(function(e){return{root:{flexGrow:1,padding:e.spacing(3,2)},paper:{padding:e.spacing(2,2),textAlign:"center",color:e.palette.text.secondary}}}),ne=function(e){var a=te(),t=Object(n.useState)({movie:[]}),o=Object(p.a)(t,2),i=o[0],r=o[1];Object(n.useEffect)(function(){v.a.get("".concat("https://newmovieslist.herokuapp.com/","/api/movies/").concat(e.match.params.id)).then(function(e){r({movie:e.data})}).catch(function(e){return console.log(e)})},[]);return l.a.createElement("div",{className:a.root,id:"detail-container"},l.a.createElement(f.a,{maxWidth:"md"},l.a.createElement(ae.a,{className:a.root},l.a.createElement(ae.a,{className:a.root,id:"disappear"},l.a.createElement("div",{className:"poster-container-father"},l.a.createElement("img",{alt:i.movie.title,src:i.movie.backdrop_path?i.movie.poster_path.split("/").includes("null")?"https://res.cloudinary.com/dsncbmlkl/image/upload/v1565452396/placeholder2_syxiud.jpg":"http://image.tmdb.org/t/p/original/".concat(i.movie.backdrop_path):null,className:"poster-detail"}))),l.a.createElement(ae.a,{className:a.root},l.a.createElement("div",{className:"detail-top-container"},l.a.createElement("div",{className:"detail-image-container"},l.a.createElement("img",{alt:"".concat(i.movie.title," poster"),src:i.movie.poster_path?i.movie.poster_path.split("/").includes("null")?"https://res.cloudinary.com/dsncbmlkl/image/upload/v1565452396/placeholder2-sm_swvm3j.jpg":i.movie.poster_path.split(".").includes("cloudinary")?i.movie.poster_path:"http://image.tmdb.org/t/p/w500/".concat(i.movie.poster_path):"https://res.cloudinary.com/dsncbmlkl/image/upload/v1565452396/placeholder2-sm_swvm3j.jpg",className:"image-detail"})),l.a.createElement("div",{className:"detail-text-container"},l.a.createElement("h1",null,i.movie.title),l.a.createElement("p",{className:"director"},l.a.createElement("span",{class:"bold-text"},"Vote average:")," ",i.movie.vote_average),l.a.createElement("div",{className:"star-container"},l.a.createElement("p",{className:"director"},l.a.createElement("span",{class:"bold-text"},"Popularity count:")," ",i.movie.popularity)),l.a.createElement("div",{className:"star-container"},l.a.createElement("p",{className:"director"},l.a.createElement("span",{class:"bold-text"},"Original language:")," ",i.movie.original_language)),l.a.createElement("div",{className:"star-container"},l.a.createElement("p",{className:"director"},l.a.createElement("span",{class:"bold-text"},"Release date:")," ",i.movie.release_date)),l.a.createElement("div",{className:"p-container"},l.a.createElement("h4",null,"Description:"),l.a.createElement("p",null,i.movie.overview))),l.a.createElement("div",{className:"detail-button-container"},l.a.createElement("div",{className:"upload-button-modal"},l.a.createElement(h.b,{to:"/movies/edit/".concat(i.movie._id),className:"detail-button"},"Edit"),l.a.createElement(h.b,{to:"#",onClick:function(){return function(){var a=e.match.params;v.a.delete("".concat("https://newmovieslist.herokuapp.com/","/api/movies/").concat(a.id)).then(function(a){e.history.push("/")}).catch(function(e){return console.log(e)})}()},className:"detail-button"},"Delete")),l.a.createElement(h.b,{to:"/",className:"detail-link"},"Back to movies")))))))},le=Object(B.a)(function(e){return{root:{flexGrow:1,padding:e.spacing(3,2)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},progress:{margin:e.spacing(2)}}}),oe=function(e){var a=le(),t=Object(n.useState)({genre_ids:[],vote_count:"",id:"",video:!1,vote_average:"",title:"",popularity:"",poster_path:"",original_language:"",original_title:"",backdrop_path:"",adult:!1,overview:"",release_date:""}),o=Object(p.a)(t,2),i=o[0],r=o[1],c=l.a.useState(!1),s=Object(p.a)(c,2),m=s[0],d=s[1];Object(n.useEffect)(function(){!function(){var a=e.match.params;v.a.get("".concat("https://newmovieslist.herokuapp.com/","/api/movies/").concat(a.id)).then(function(e){var a=e.data;r(Object(A.a)({},i,{genre_ids:a.genre_ids,vote_count:a.vote_count,id:a.id,video:a.video,vote_average:a.vote_average,title:a.title,popularity:a.popularity,poster_path:a.poster_path,original_language:a.original_language,original_title:a.original_title,backdrop_path:a.backdrop_path,adult:a.adult,overview:a.overview,release_date:a.release_date}))}).catch(function(e){return console.log(e)})}()},[]);var u=function(e){var a=e.target,t=a.name,n=a.value;r(Object(V.a)({},t,n))};return l.a.createElement("div",{className:a.root},l.a.createElement(f.a,{maxWidth:"md"},l.a.createElement("div",{className:"edit-container"},l.a.createElement(ae.a,{className:a.root},l.a.createElement("h2",null,"Edit movie"),l.a.createElement("form",{onSubmit:function(a){var t=i.genre_ids,n=i.vote_count,l=i.id,o=i.video,r=i.vote_average,c=i.title,s=i.popularity,m=i.poster_path,d=i.original_language,u=i.original_title,p=i.backdrop_path,g=i.adult,h=i.overview,f=i.release_date;a.preventDefault();var E=e.match.params;v.a.put("".concat("https://newmovieslist.herokuapp.com/","/api/movies/").concat(E.id),{genre_ids:t,vote_count:n,id:l,video:o,vote_average:r,title:c,popularity:s,poster_path:m,original_language:d,original_title:u,backdrop_path:p,adult:g,overview:h,release_date:f}).then(function(){e.history.goBack()}).catch(function(e){return console.log(e)})},className:"edit-container"},l.a.createElement(H.a,{id:"outlined-name",label:"Title",name:"title",className:a.textField,value:i.title?i.title:void 0,onChange:function(e){return u(e)},margin:"normal",variant:"outlined",defaultValue:" "}),l.a.createElement(H.a,{id:"outlined-name",label:"Vote average",name:"vote_average",className:a.textField,value:i.vote_average?i.vote_average:void 0,onChange:function(e){return u(e)},margin:"normal",variant:"outlined",defaultValue:" "}),l.a.createElement(H.a,{id:"outlined-name",label:"Popularity count",name:"popularity",multiline:!0,rows:"3",className:a.textField,value:i.popularity?i.popularity:void 0,onChange:function(e){return u(e)},margin:"normal",variant:"outlined",defaultValue:" "}),l.a.createElement(H.a,{id:"outlined-name",multiline:!0,rows:"3",label:"Description",name:"overview",className:a.textField,value:i.overview?i.overview:void 0,onChange:function(e){return u(e)},margin:"normal",variant:"outlined",defaultValue:" "}),l.a.createElement(H.a,{label:"Release date",name:"release_date",className:a.textField,value:i.release_date?i.release_date:void 0,onChange:function(e){return u(e)},margin:"normal",variant:"outlined",defaultValue:" ",id:"date",InputLabelProps:{shrink:!0},type:"date"}),l.a.createElement(H.a,{id:"outlined-name",label:"Original language",name:"original_language",className:a.textField,value:i.original_language?i.original_language:void 0,onChange:function(e){return u(e)},margin:"normal",variant:"outlined",defaultValue:" "}),l.a.createElement("div",{className:"edit-form-buttons"},l.a.createElement("div",{className:"edit-form-label-container"},l.a.createElement("div",{className:"edit-buttons-container"},l.a.createElement("div",{className:"spinner"},m?l.a.createElement(J.a,{className:a.progress}):null),l.a.createElement("input",{type:"file",onChange:function(e){d(!0),function(e){console.log("The file to be uploaded is: ".concat(e.target.files[0]));var a=new FormData;a.append("image",e.target.files[0]),U.handleUpload(a).then(function(e){r({poster_path:e.secure_url})}).catch(function(e){console.log("Error while uploading the file: ".concat(e))})}(e)},name:"file",id:"file",className:"inputfile"}),l.a.createElement("label",{htmlFor:"file",className:"label-for-edit"},"Upload image")),l.a.createElement(x.a,{type:"submit",to:"/movies",variant:"contained",className:a.button,id:"button-edit"},"Submit changes"),l.a.createElement(h.b,{to:"/movies/".concat(e.match.params.id),className:"detail-link"},"Back"))))))))},ie=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Page not found"),l.a.createElement(h.b,{to:"/"},"Back to home"))},re=t(184),ce=t(82),se=t.n(ce),me=t(185),de=t(183);function ue(){return l.a.createElement(O.a,{variant:"body2",color:"textSecondary",align:"center"},"Built with love by the ",l.a.createElement(de.a,{color:"inherit",href:"https://material-ui.com/"},"Material-UI")," team.")}var pe=Object(B.a)(function(e){return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}}),ge=[1,2,3,4,5,6,7,8,9];function ve(){var e=pe();return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,null),l.a.createElement(re.a,{position:"relative"},l.a.createElement(me.a,null,l.a.createElement(se.a,{className:e.icon}),l.a.createElement(O.a,{variant:"h6",color:"inherit",noWrap:!0},"Album layout"))),l.a.createElement("main",null,l.a.createElement("div",{className:e.heroContent},l.a.createElement(f.a,{maxWidth:"sm"},l.a.createElement(O.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0},"Album layout"),l.a.createElement(O.a,{variant:"h5",align:"center",color:"textSecondary",paragraph:!0},"Something short and leading about the collection below\u2014its contents, the creator, etc. Make it short and sweet, but not too short so folks don't simply skip over it entirely."),l.a.createElement("div",{className:e.heroButtons},l.a.createElement(b.a,{container:!0,spacing:2,justify:"center"},l.a.createElement(b.a,{item:!0},l.a.createElement(x.a,{variant:"contained",color:"primary"},"Main call to action")),l.a.createElement(b.a,{item:!0},l.a.createElement(x.a,{variant:"outlined",color:"primary"},"Secondary action")))))),l.a.createElement(f.a,{className:e.cardGrid,maxWidth:"md"},l.a.createElement(b.a,{container:!0,spacing:4},ge.map(function(a){return l.a.createElement(b.a,{item:!0,key:a,xs:12,sm:6,md:4},l.a.createElement(_.a,{className:e.card},l.a.createElement(k.a,{className:e.cardMedia,image:"https://source.unsplash.com/random",title:"Image title"}),l.a.createElement(w.a,{className:e.cardContent},l.a.createElement(O.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Heading"),l.a.createElement(O.a,null,"This is a media card. You can use this section to describe the content.")),l.a.createElement(N.a,null,l.a.createElement(x.a,{size:"small",color:"primary"},"View"),l.a.createElement(x.a,{size:"small",color:"primary"},"Edit"))))})))),l.a.createElement("footer",{className:e.footer},l.a.createElement(O.a,{variant:"h6",align:"center",gutterBottom:!0},"Footer"),l.a.createElement(O.a,{variant:"subtitle1",align:"center",color:"textSecondary",component:"p"},"Something here to give the footer a purpose!"),l.a.createElement(ue,null)))}var he=function(e){function a(){return Object(r.a)(this,a),Object(s.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"App"},l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",component:ee}),l.a.createElement(u.a,{exact:!0,path:"/movies/:id",component:ne}),l.a.createElement(u.a,{exact:!0,path:"/movies/edit/:id",component:oe}),l.a.createElement(u.a,{exact:!0,path:"/pepe/album",component:ve}),l.a.createElement(u.a,{component:ie}),"    ")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(h.a,null,l.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},98:function(e,a,t){e.exports=t(127)}},[[98,1,2]]]);
//# sourceMappingURL=main.5d85ab3e.chunk.js.map